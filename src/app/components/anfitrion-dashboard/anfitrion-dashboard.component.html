<div class="anfitrion-dashboard">
  <h2>Dashboard del Anfitrión</h2>

  <!-- Tabs -->
  <div class="tabs">
    <div
      class="tab"
      [class.active]="tabActivo === 'pendiente'"
      (click)="cambiarTab('pendiente')"
    >
      Pendientes
    </div>
    <div
      class="tab"
      [class.active]="tabActivo === 'confirmado'"
      (click)="cambiarTab('confirmado')"
    >
      Confirmados
    </div>
    <div
      class="tab"
      [class.active]="tabActivo === 'rechazado'"
      (click)="cambiarTab('rechazado')"
    >
      Rechazados
    </div>
  </div>

  <!-- Tabla de invitados -->
  <table class="table-invitados" *ngIf="invitados$ | async as invitados">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Pases</th>
        <th>Mensaje</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let inv of invitados">
        <td>{{ inv.nombre }}</td>
        <td>{{ inv.pases }}</td>
        <td>{{ inv.mensajePersonalizado }}</td>
        <td>
          <span class="estado {{ inv.estado }}">
            {{
              inv.estado === "pendiente"
                ? "⏳"
                : inv.estado === "confirmado"
                ? "✅"
                : "❌"
            }}
          </span>
        </td>
        <td>
          <button class="btn btn-whatsapp" (click)="enviarWhatsApp(inv)">
            WhatsApp
          </button>
          <button class="btn btn-pdf" (click)="descargarPDF(inv)">PDF</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Formulario agregar invitado -->
  <div class="form-nuevo-invitado">
    <h3>Agregar nuevo invitado</h3>
    <label>Nombre</label>
    <input [(ngModel)]="nuevoInvitado.nombre" />

    <label>Pases</label>
    <input type="number" [(ngModel)]="nuevoInvitado.pases" />

    <label>Mensaje personalizado</label>
    <textarea [(ngModel)]="nuevoInvitado.mensajePersonalizado"></textarea>

    <button class="btn btn-whatsapp" (click)="agregarInvitado()">
      Agregar
    </button>
  </div>
</div>
